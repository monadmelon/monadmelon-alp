<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' http://127.0.0.1:5000;">

    <title>monadmelon@web:~$</title>
    <link rel="stylesheet" href="./frontend/css/main.css">
</head>
<body>
    <div id="boot-screen">
        <div class="scanlines"></div>

        <div id="boot-stage-1">
            <div class="boot-message" style="animation-delay: 0.5s">> INITIATING MONADMELON BOOT SEQUENCE</div>
            <div class="boot-message" style="animation-delay: 1.0s">> LOADING KERNEL................... [OK]</div>
            <div id="filesystem-mount-message" class="boot-message" style="animation-delay: 1.5s">> MOUNTING VIRTUAL FILESYSTEM</div>
            <div class="boot-message" style="animation-delay: 2.0s">> INITIALIZING AUDIO SUBSYSTEM..... [OK]</div>
             <div id="daemon-status-message" class="boot-message" style="animation-delay: 2.5s">> STARTING SUIKA DAEMON</div>
            
            <div class="ascii-art-container">
                <div class="ascii-art-line" style="animation-delay: 3.0s">███████╗██╗   ██╗██╗██╗  ██╗ █████╗ </div>
                <div class="ascii-art-line" style="animation-delay: 3.1s">██╔════╝██║   ██║██║██║ ██╔╝██╔══██╗</div>
                <div class="ascii-art-line" style="animation-delay: 3.2s">███████╗██║   ██║██║█████╔╝ ███████║</div>
                <div class="ascii-art-line" style="animation-delay: 3.3s">╚════██║██║   ██║██║██╔═██╗ ██╔══██║</div>
                <div class="ascii-art-line" style="animation-delay: 3.4s">███████║╚██████╔╝██║██║  ██╗██║  ██║</div>
                <div class="ascii-art-line" style="animation-delay: 3.5s">╚══════╝ ╚═════╝ ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝</div>
            </div>
        </div>

        <div id="boot-stage-2">
            <div class="boot-message">  /\_/\  </div>
            <div class="boot-message"> ( o.o ) </div>
            <div class="boot-message">  > ^ <  </div>
            <br>
            <div class="boot-message">monadmelon-alpha_1</div>
        </div>
    </div>

    <div id="terminal">
        <div class="output protected">a reflection of my mind. tech. philosophy. music.</div>
        <div class="output protected">type 'help' to begin</div>
        <br>
        <div id="output-container"></div>
        <div class="input-line">
            <span class="prompt" id="current-prompt">monadmelon@web:~$</span>
            <input type="text" id="input" autofocus autocapitalize="none" autocorrect="off">
        </div>
        <div id="scroll-anchor"></div>
    </div>

    <div id="audplayer-window" class="app-window">
        <div class="app-title-bar">
            <span>~/aud/audplayer</span>
            <div class="title-bar-buttons">
                <button class="title-bar-btn minimize-btn">-</button>
                <button class="title-bar-btn close-btn">X</button>
            </div>
        </div>
        <iframe id="audplayer-content" class="app-content-iframe" tabindex="-1"></iframe>
    </div>

    <div id="notes-app-window" class="app-window">
        <div class="app-title-bar">
            <span>~/app/notes</span>
            <div class="title-bar-buttons">
                <button class="title-bar-btn minimize-btn">-</button>
                <button class="title-bar-btn close-btn">X</button>
            </div>
        </div>
        <iframe id="notes-app-content" class="app-content-iframe" tabindex="-1"></iframe>
    </div>

    <div id="taskbar">
        <div id="audplayer-taskbar-item" class="taskbar-item">[♫ audplayer]</div>
        <div id="notes-app-taskbar-item" class="taskbar-item">[📝 notes]</div>
    </div>

    <div id="mobile-buttons">
        <button data-command="help">help</button>
        <button data-command="audplayer">audplayer</button>
        <button data-command="notes">notes</button>
        <button data-command="clear">clear</button>
    </div>

    <script type="module" src="./frontend/js/core/terminal.js"></script>
</body>
</html>