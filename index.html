<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>monadmelon@web:~$</title>
    <link rel="stylesheet" href="./frontend/css/main.css">
</head>
<body>
    <div id="boot-screen">
        <div class="scanlines"></div>
        <div class="boot-message" style="animation-delay: 0.5s">> INITIATING MONADMELON BOOT SEQUENCE</div>
        <div class="boot-message" style="animation-delay: 1.2s">> LOADING KERNEL .................... [OK]</div>
        <div id="filesystem-mount-message" class="boot-message" style="animation-delay: 2.0s">> MOUNTING VIRTUAL FILESYSTEM ....... </div>
        <div class="boot-message" style="animation-delay: 2.8s">> INITIALIZING AUDIO SUBSYSTEM ....... [OK]</div>
        <div class="boot-message" style="animation-delay: 3.6s">> STARTING SUIKA DAEMON ............ </div>
        <div class="ascii-art-line" style="animation-delay: 4.0s">███████╗██╗   ██╗██╗██╗  ██╗ █████╗ </div>
        <div class="ascii-art-line" style="animation-delay: 4.3s">██╔════╝██║   ██║██║██║ ██╔╝██╔══██╗</div>
        <div class="ascii-art-line" style="animation-delay: 4.6s">███████╗██║   ██║██║█████╔╝ ███████║</div>
        <div class="ascii-art-line" style="animation-delay: 4.9s">╚════██║██║   ██║██║██╔═██╗ ██╔══██║</div>
        <div class="ascii-art-line" style="animation-delay: 5.2s">███████║╚██████╔╝██║██║  ██╗██║  ██║</div>
        <div class="ascii-art-line" style="animation-delay: 5.5s">╚══════╝ ╚═════╝ ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝</div>
        <div class="boot-message" style="animation-delay: 6.0s">[OK]</div>
        <div class="boot-message" style="animation-delay: 6.5s">> SYSTEM READY</div>
        <div class="boot-message" style="animation-delay: 7.0s">> WELCOME TO MONADMELON</div>
    </div>

    <div id="terminal">
        <div class="output protected">a reflection of my mind. tech. philosophy. music.</div>
        <div class="output protected">type 'help' to begin</div>
        <br>
        <div id="output-container"></div>
        <div class="input-line">
            <span class="prompt" id="current-prompt">monadmelon@web:~$</span>
            <input type="text" id="input" autofocus autocapitalize="none" autocorrect="off">
        </div>
        <div id="scroll-anchor"></div>
    </div>

    <div id="audplayer-window" class="app-window">
        <div class="app-title-bar">
            <span>~/aud/audplayer</span>
            <div class="title-bar-buttons">
                <button class="title-bar-btn minimize-btn" onclick="minimizeAudPlayer()">-</button>
                <button class="title-bar-btn close-btn" onclick="closeAudPlayer()">X</button>
            </div>
        </div>
        <iframe id="audplayer-content" class="app-content-iframe" tabindex="-1"></iframe>
    </div>

    <div id="notes-app-window" class="app-window">
        <div class="app-title-bar">
            <span>~/app/notes</span>
            <div class="title-bar-buttons">
                <button class="title-bar-btn minimize-btn" onclick="minimizeNotesApp()">-</button>
                <button class="title-bar-btn close-btn" onclick="closeNotesApp()">X</button>
            </div>
        </div>
        <iframe id="notes-app-content" class="app-content-iframe" tabindex="-1"></iframe>
    </div>

    <div id="taskbar">
        <div id="audplayer-taskbar-item" class="taskbar-item" onclick="restoreAudPlayer()">[♫ audplayer]</div>
        <div id="notes-app-taskbar-item" class="taskbar-item" onclick="restoreNotesApp()">[📝 notes]</div>
    </div>

    <div id="mobile-buttons">
        <button onclick="window.insertCommand('help', true)">help</button>
        <button onclick="window.insertCommand('audplayer', true)">audplayer</button>
        <button onclick="window.insertCommand('notes', true)">notes</button>
        <button onclick="window.insertCommand('clear', true)">clear</button>
    </div>

    <!-- The single entry point for all JavaScript. "type=module" enables import/export. -->
    <script type="module" src="./frontend/js/core/terminal.js"></script>
</body>
</html>